


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../../_static/js/linkid.js"></script>
	    <script type="text/javascript" src="../../_static/js/header-footer.min.js"></script>
    <script type="text/javascript" src="../../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/pro.min.css" media="all" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="5. Faster ROS 2 publisher" href="5_faster_ros2_publisher.html" />
    <link rel="prev" title="3. Offloading ROS 2 publisher" href="3_offloading_ros2_publisher.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search"
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a>
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search"
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> KRS
          

          
          </a>

          
            
            
              <div class="version">
                alpha
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Kria Robotics Stack (KRS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Install KRS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware.html">Hardware supported</a></li>
</ul>
<p class="caption"><span class="caption-text">Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../features/ros2centric.html">ROS 2-centric</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/realtime_ros2.html">Real-time ROS 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/accelerated_apps_ros2.html">ROS 2 Accelerated Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/contributing_ros2.html">Contributing back to ROS 2</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="0_ros2_publisher.html">0. ROS 2 publisher</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_hello_xilinx.html">1. Hello Xilinx</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_hls_ros2.html">2. HLS in ROS 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_offloading_ros2_publisher.html">3. Offloading ROS 2 publisher</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Accelerated ROS 2 publisher</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#accelerated-doublevadd-publisher"><code class="docutils literal notranslate"><span class="pre">accelerated_doublevadd_publisher</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="5_faster_ros2_publisher.html">5. Faster ROS 2 publisher</a></li>
</ul>
<p class="caption"><span class="caption-text">HowTo</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../howto.html">HOWTO and Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../other/definitions.html">Definitions</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../_sources/docs/examples/4_accelerated_ros2_publisher.md.txt"
						rel="nofollow">Show Source</a></li>
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">KRS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>4. Accelerated ROS 2 publisher</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/docs/examples/4_accelerated_ros2_publisher.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="accelerated-ros-2-publisher">
<h1>4. Accelerated ROS 2 publisher<a class="headerlink" href="#accelerated-ros-2-publisher" title="Permalink to this headline">¶</a></h1>
<table border="1" class="docutils">
<thead>
<tr>
<th></th>
<th>Source code</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/ros-acceleration/acceleration_examples/tree/main/accelerated_doublevadd_publisher"><code>accelerated_doublevadd_publisher</code></a></td>
<td></td>
</tr>
<tr>
<td>kernel</td>
<td><a href="https://github.com/ros-acceleration/acceleration_examples/blob/main/accelerated_doublevadd_publisher/src/vadd.cpp"><code>vadd.cpp</code></a></td>
</tr>
<tr>
<td>publisher</td>
<td><a href="https://github.com/ros-acceleration/acceleration_examples/blob/main/accelerated_doublevadd_publisher/src/accelerated_doublevadd_publisher.cpp"><code>accelerated_doublevadd_publisher.cpp</code></a></td>
</tr>
</tbody>
</table><div class="sidebar">
<p class="sidebar-title">Before you begin</p>
<p>This example builds on top of two prior ones:</p>
<ul class="simple">
<li><p><a class="reference external" href="3_offloading_ros2_publisher.html">3. Offloading ROS 2 publisher - offloaded_doublevadd_publisher</a>, which offloads the <cite>vadd</cite> operation to the FPGA and leads to a deterministic vadd operation, yet insuficient overall publishing rate of <code class="code docutils literal notranslate"><span class="pre">1.935</span> <span class="pre">Hz</span></code>.</p></li>
<li><p><a class="reference external" href="0_ros2_publisher.html">0. ROS 2 publisher - doublevadd_publisher</a>, which runs completely on the scalar quad-core Cortex-A53 Application Processing Units (APUs) of the KV260 and is only able to publish at <code class="code docutils literal notranslate"><span class="pre">2.2</span> <span class="pre">Hz</span></code>.</p></li>
</ul>
</div>
<p>This example leverages KRS to offload and accelerate the <code class="docutils literal notranslate"><span class="pre">vadd</span></code> function operations to the FPGA, showing how easy it is for ROS package maintainers to extend their packages, include hardware acceleration and create deterministic kernels. The objective is to publish the resulting vector at 10 Hz.</p>
<p>This example upgrades the previous offloading operation at <a class="reference internal" href="3_offloading_ros2_publisher.html"><span class="doc">3. Offloading ROS 2 publishe - offloaded_doublevadd_publisher</span></a>, and includes an optimization for the dataflow. This allows the publisher to improve its publishing rate from 2 Hz, up to 6 Hz. For that, the HLS <code class="docutils literal notranslate"><span class="pre">INTERFACE</span></code> pragma is used. The HLS INTERFACE specifies how RTL ports are created from the function definition during interface synthesis. Sharing ports helps save FPGA resources by eliminating AXI interfaces, but it can limit the performance of the kernel because all the memory transfers have to go through a single port. The <code class="docutils literal notranslate"><span class="pre">m_axi</span></code> port has  independent READ and WRITE channels, so with a single m_axi port, we can do reads and writes simultaneously but since the kernel (<code class="docutils literal notranslate"><span class="pre">vadd</span></code>) has two vectors from where its reading (simultaneously), we can optimize the dataflows by simply asking for an extra AXI interface.</p>
<p>After this dataflow optimization in the kernel, the <code class="docutils literal notranslate"><span class="pre">accelerated_doublevadd_publisher</span></code> ROS 2 package is able to publish at 6 Hz. <em>For a faster kernel that meets the 10 Hz goal, refer to <a class="reference internal" href="5_faster_ros2_publisher.html"><span class="doc">5. Faster ROS 2 publisher</span></a></em>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The examples assume you’ve already installed KRS. If not, refer to <a class="reference external" href="../install.html">install</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference external" href="https://docs.ros.org/">Learn ROS 2</a> before trying this out first.</p>
</div>
<div class="section" id="accelerated-doublevadd-publisher">
<h2><code class="docutils literal notranslate"><span class="pre">accelerated_doublevadd_publisher</span></code><a class="headerlink" href="#accelerated-doublevadd-publisher" title="Permalink to this headline">¶</a></h2>
<p>Let’s take a look at the kernel source code this time:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">        ____  ____</span>
<span class="cm">       /   /\/   /</span>
<span class="cm">      /___/  \  /   Copyright (c) 2021, Xilinx®.</span>
<span class="cm">      \   \   \/    Author: Víctor Mayoral Vilches &lt;victorma@xilinx.com&gt;</span>
<span class="cm">       \   \</span>
<span class="cm">       /   /</span>
<span class="cm">      /___/   /\</span>
<span class="cm">      \   \  /  \</span>
<span class="cm">       \___\/\___\</span>

<span class="cm">Inspired by the Vector-Add example.</span>
<span class="cm">See https://github.com/Xilinx/Vitis-Tutorials/blob/master/Getting_Started/Vitis</span>

<span class="cm">*/</span><span class="w"></span>

<span class="cp">#define DATA_SIZE 4096</span>
<span class="c1">// TRIPCOUNT identifier</span>
<span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DATA_SIZE</span><span class="p">;</span><span class="w"></span>

<span class="k">extern</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">vadd</span><span class="p">(</span><span class="w"></span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">in1</span><span class="p">,</span><span class="w">  </span><span class="c1">// Read-Only Vector 1</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">in2</span><span class="p">,</span><span class="w">  </span><span class="c1">// Read-Only Vector 2</span>
<span class="w">            </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">out</span><span class="p">,</span><span class="w">        </span><span class="c1">// Output Result</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="w">                  </span><span class="c1">// Size in integer</span>
<span class="w">            </span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="cp">#pragma HLS INTERFACE m_axi port=in1 bundle=aximm1</span>
<span class="cp">#pragma HLS INTERFACE m_axi port=in2 bundle=aximm2</span>
<span class="cp">#pragma HLS INTERFACE m_axi port=out bundle=aximm1</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// stupidly iterate over</span>
<span class="w">                                          </span><span class="c1">// it to generate load</span>
<span class="w">        </span><span class="cp">#pragma HLS loop_tripcount min = c_size max = c_size</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="cp">#pragma HLS loop_tripcount min = c_size max = c_size</span>
<span class="w">              </span><span class="n">out</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">in2</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Note the aforementioned <code class="docutils literal notranslate"><span class="pre">INTERFACE</span></code> pragma as the only relevant change introduced, which specifies how RTL ports are created from the function definition during interface synthesis.</p>
<div class="admonition-short-explanation-of-the-hls-interface-pragma admonition">
<p class="admonition-title">Short explanation of the <cite>HLS INTERFACE</cite> pragma</p>
<p>The parameters of the software functions defined in a HLS design are synthesized into ports in the RTL code <a class="footnote-reference brackets" href="#id3" id="id1">1</a> that group multiple signals to encapsulate the communication protocol between the HLS design and things external to the design.  The <code class="code docutils literal notranslate"><span class="pre">HLS</span> <span class="pre">INTERFACE</span></code> specifies how RTL ports are created from the function definition during interface synthesis <a class="footnote-reference brackets" href="#id4" id="id2">2</a>. Sharing ports helps save FPGA resources by eliminating AXI interfaces, but it can limit the performance of the kernel because all the memory transfers have to go through a single port. The <code class="code docutils literal notranslate"><span class="pre">m_axi</span></code> port has independent READ and WRITE channels, so with a single <code class="code docutils literal notranslate"><span class="pre">m_axi</span></code> port, we can do reads and writes simultaneously but since we have two vectors from where we’re reading (simultaneously), we can optimize the dataflows by simply asking for an extra AXI interface.</p>
<p>Note the bandwidth and throughput of the kernel can be increased by creating multiple  ports, using different bundle names, to connect multiple memory banks but this cames at the cost of resources in the PL fabric.</p>
<p>To understand this better, it’s important to also understand that in RTL design, input and output operations must be performed through a port in the design interface and typically operate using a specific I/O (input-output) protocol. The implementation of a function-level protocol is indicated in <code class="code docutils literal notranslate"><span class="pre">&lt;mode&gt;</span></code> after the <code class="code docutils literal notranslate"><span class="pre">#pragma</span> <span class="pre">HLS</span> <span class="pre">INTERFACE</span> <span class="pre">&lt;mode&gt;</span></code>. In this case, the pragma is using the <code class="code docutils literal notranslate"><span class="pre">m_axi</span></code> mode which corresponds with all ports as an AXI4 interface. The complete syntax of the pragma is as follows:</p>
<p><code class="code docutils literal notranslate"><span class="pre">#pragma</span> <span class="pre">HLS</span> <span class="pre">interface</span> <span class="pre">&lt;mode&gt;</span> <span class="pre">port=&lt;name&gt;</span> <span class="pre">bundle=&lt;string&gt;</span></code></p>
<p>where:</p>
<ul class="simple">
<li><p><cite>&lt;mode&gt;</cite> corresponds with the function-level protocol for the input/output operations through the RTL port</p></li>
<li><p><cite>&lt;port&gt;</cite> specifies the name of the function argument, return value or global variable the pragma applies to</p></li>
<li><p><cite>&lt;bundle&gt;</cite> groups function arguments into AXI interface ports. By default, HLS groups all function arguments specified as an AXI4 (<code class="code docutils literal notranslate"><span class="pre">m_axi</span></code> mode) interface into a single AXI4 port. This option explicitly groups all interface ports with the same <code class="code docutils literal notranslate"><span class="pre">bundle=&lt;string&gt;</span></code> into the same AXI interface port and names the RTL port the value specified by <code class="code docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>.</p></li>
</ul>
<p>In other words, the pragmas below define the <code class="code docutils literal notranslate"><span class="pre">INTERFACE</span></code> standards for the RTL ports of the <code class="code docutils literal notranslate"><span class="pre">vadd</span></code> function.</p>
</div>
<p>Let’s build it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ~/krs_ws  <span class="c1"># head to your KRS workspace</span>

<span class="c1"># prepare the environment</span>
$ <span class="nb">source</span> /tools/Xilinx/Vitis/2020.2/settings64.sh  <span class="c1"># source Xilinx tools</span>
$ <span class="nb">source</span> /opt/ros/foxy/setup.bash  <span class="c1"># Sources system ROS 2 installation</span>
$ <span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/usr/bin&quot;</span>:<span class="nv">$PATH</span>  <span class="c1"># FIXME: adjust path for CMake 3.5+</span>

<span class="c1"># if not done before, fetch the source code of examples</span>
$ git clone https://github.com/ros-acceleration/acceleration_examples src/acceleration_examples

<span class="c1"># build the workspace to deploy KRS components</span>
$ colcon build --merge-install  <span class="c1"># about 2 mins</span>

<span class="c1"># source the workspace as an overlay</span>
$ <span class="nb">source</span> install/setup.bash

<span class="c1"># select kv260 firmware (in case you&#39;ve been experimenting with something else)</span>
$ colcon acceleration <span class="k">select</span> kv260

<span class="c1"># build accelerated_doublevadd_publisher</span>
$ colcon build --build-base<span class="o">=</span>build-kv260 --install-base<span class="o">=</span>install-kv260 --merge-install --mixin kv260 --packages-select ament_vitis ros2acceleration accelerated_doublevadd_publisher

<span class="c1"># copy to KV260 rootfs, e.g.</span>
$ scp -r install-kv260/* petalinux@192.168.1.86:/ros2_ws/
</pre></div>
</div>
<p>and run it:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Before you begin</p>
<p>Due to a bug in the daemon client used underneath the ROS 2 CLI extensions, the following is likely to happen:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xilinx-k26-starterkit-2020_2:/lib/firmware/xilinx# ros2 acceleration <span class="k">select</span> accelerated_doublevadd_publisher
Removing accel /lib/firmware/xilinx/kv260-dp
*** buffer overflow detected ***: dfx-mgr-client terminated
</pre></div>
</div>
<p>This overflow is caused by a fixed buffer which is getting overflowed due to an accelerator name that’s longer than expected. <strong>This should be addressed in future firmware releases</strong>.</p>
<p>For the time being, a quick patch involves changing the name of the accelerator manually and loading it with that different name. E.g.:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /lib/firmware/xilinx/
mv accelerated_doublevadd_publisher shorter
ros2 acceleration stop<span class="p">;</span> ros2 acceleration start
ros2 acceleration <span class="k">select</span> shorter
<span class="c1"># and then launch the ROS 2 package as usual</span>
</pre></div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo su
$ <span class="nb">source</span> /usr/bin/ros_setup.bash  <span class="c1"># source the ROS 2 installation</span>

$ . /ros2_ws/local_setup.bash     <span class="c1"># source the ROS 2 overlay workspace we just </span>
                                  <span class="c1"># created. Note it has been copied to the SD </span>
                                  <span class="c1"># card image while being created.</span>

<span class="c1"># restart the daemon that manages the acceleration kernels</span>
$ ros2 acceleration stop<span class="p">;</span> ros2 acceleration start

<span class="c1"># list the accelerators</span>
$ ros2 acceleration list
                                       Accelerator           Type    Active
                  accelerated_doublevadd_publisher       XRT_FLAT         <span class="m">0</span>
                                          kv260-dp       XRT_FLAT         <span class="m">1</span>
                                              base       XRT_FLAT         <span class="m">0</span>
                    offloaded_doublevadd_publisher       XRT_FLAT         <span class="m">0</span>

<span class="c1"># select the offloaded_doublevadd_publisher</span>
<span class="c1"># NOTE: see troubleshooting note above, implement</span>
<span class="c1">#       countermeasure if necessary</span>
$ ros2 acceleration <span class="k">select</span> accelerated_doublevadd_publisher

<span class="c1"># launch binary </span>
$ <span class="nb">cd</span> /ros2_ws/lib/accelerated_doublevadd_publisher
$ ros2 topic hz /vector_acceleration --window <span class="m">10</span> <span class="p">&amp;</span>
$ ros2 run accelerated_doublevadd_publisher accelerated_doublevadd_publisher

ros2 run faster_doublevadd_publisher faster_doublevadd_publisher

...
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667329</span>.650547207<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 9&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667329</span>.850627179<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 10&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667329</span>.988200464<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 11&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667330</span>.125859198<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 12&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667330</span>.263443133<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 13&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667330</span>.463512045<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 14&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667330</span>.601060629<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 15&#39;</span>
average rate: <span class="m">6</span>.396
	min: <span class="m">0</span>.137s max: <span class="m">0</span>.200s std dev: <span class="m">0</span>.02870s window: <span class="m">10</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667330</span>.738635863<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 16&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667330</span>.876191868<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 17&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667331</span>.076263260<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 18&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667331</span>.213853284<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 19&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667331</span>.351435218<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 20&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667331</span>.488997143<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 21&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667331</span>.689110265<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 22&#39;</span>
average rate: <span class="m">6</span>.397
	min: <span class="m">0</span>.137s max: <span class="m">0</span>.200s std dev: <span class="m">0</span>.02871s window: <span class="m">10</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667331</span>.826752610<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 23&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667331</span>.964359824<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 24&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667332</span>.101934778<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 25&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667332</span>.302034131<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 26&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667332</span>.439673035<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 27&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667332</span>.577249279<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 28&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span> <span class="o">[</span><span class="m">1629667332</span>.714848544<span class="o">]</span> <span class="o">[</span>accelerated_doublevadd_publisher<span class="o">]</span>: Publishing: <span class="s1">&#39;vadd finished, iteration: 29&#39;</span>
average rate: <span class="m">6</span>.662
	min: <span class="m">0</span>.138s max: <span class="m">0</span>.200s std dev: <span class="m">0</span>.02507s window: <span class="m">10</span>
...
</pre></div>
</div>
<p>The optimizations in the dataflow introduced in the kernel via the use of the HLS <code class="docutils literal notranslate"><span class="pre">INTERFACE</span></code> pragma lead to a <code class="docutils literal notranslate"><span class="pre">6.3</span> <span class="pre">Hz</span></code> publishing rate, which is about 3 times better than what was obtained before, but still insuficient to meet the <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">Hz</span></code> goal.</p>
<p>Next, in <a class="reference internal" href="5_faster_ros2_publisher.html"><span class="doc">5. Faster ROS 2 publisher</span></a>, we’ll review an even faster kernel that meets the 10 Hz publishing goal, by optimizing both the dataflow (as in this example) and exploiting <code class="docutils literal notranslate"><span class="pre">vadd</span></code> parallelism (via loop unrolling).</p>
<!-- references --><dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Managing Interface Synthesis. Retrieved from <a class="reference external" href="https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/managing_interface_synthesis.html#jro1585107736856">https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/managing_interface_synthesis.html#jro1585107736856</a></p>
</dd>
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>pragma HLS interface. Retrieved from <a class="reference external" href="https://www.xilinx.com/html_docs/xilinx2021_1/vitis_doc/hls_pragmas.html#jit1504034365862">https://www.xilinx.com/html_docs/xilinx2021_1/vitis_doc/hls_pragmas.html#jit1504034365862</a>.</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="5_faster_ros2_publisher.html" class="btn btn-neutral float-right" title="5. Faster ROS 2 publisher" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="3_offloading_ros2_publisher.html" class="btn btn-neutral float-left" title="3. Offloading ROS 2 publisher" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on September 14, 2021.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2021, Xilinx, Inc.
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>